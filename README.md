## 🚀 Documentacion de ingenieria - Innova Tech

Este repositorio contiene todos los materiales necesarios para crear a "Ledma Tech_MK1", el robot autónomo creado por el equipo "Innova Tech", que participará en la categoría Futuros ingeniero en la Clasificaion de la World Robot Olympiad en la temporada 2025.

##  Contenido 

- Miembros del equipo 
- introduccion 
- diseño adaptado 
-  Materiales y Componentes


## 📖 Introducción
En este repositorio se observará un arduo proceso tanto de selección, así como de armado del carrito RC, para la categoría Futuros Ingenieros de la WRO. Fue un proceso realizado con gran esfuerzo, independientemente de las dificultades. Un trabajo en equipo y dedicación para dar lo mejor de nosotros en la demostración a los jueces, conociendo las bases de la robótica y aprendiendo mucho en el proceso nos basamos en mecánica, electrónica y programación, pensando siempre en aprender más para presentar así un proyecto capaz de desempeñar óptimamente y autónomamente todos los objetivos.





## Miembros del equipo 
-Leontino Jose Medina Di Donato

-Adriana Carolina Palmar Molero

-Dharma Alexandra Peña Jiménez

Somos jovenes estudiantes de ingeniería, donde nos conocimos en las aulas de la institucion como futuros ingenieros, al comienzo de la carrera y decidimos participar en la competencia por la pasión que compartimos de armar proyectos. La competencia nos llamo la atencion para poder expandir nuestros conocimientos de robótica, y explotar nuestras capacidades como un equipo de jovenes que buscan mirar más allá de sus fronteras. 

![WhatsApp Image 2025-06-07 at 17 47 40](https://github.com/user-attachments/assets/3568e8a1-b1b9-4abf-abde-68d06ec69484)


**Chasis de referencias de modelado 3D**

Al comienzo de nuestra inmersión para esta competencia, decidimos explotar al máximo todos los recursos disponibles a nuestra disposición, entre ellos los muchos modelos que hay en internet de modelado 3D para chasis, entre ellos encontramos uno que nos funcionaba en muchos factores, ya sea tiempo, factibilidad, estética, etc. Aquí dejamos el link a disposicion para mas información además de adjuntar la imagen de referencia y las imágenes de nuestro chasis post impresión 3D.




 https://cults3d.com/es/modelo-3d/juegos/casis-1-10-adaptable

![Chasis-RC-02](https://github.com/user-attachments/assets/9e7c69a4-fcab-4fcb-8af9-bcbd09175e0b)

### **Chasis Armado**

[![](https://private-user-images.githubusercontent.com/147768482/452440916-3ea8a2ea-8c3c-4cf5-b728-1cdf928101bc.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDkyMzc3MTksIm5iZiI6MTc0OTIzNzQxOSwicGF0aCI6Ii8xNDc3Njg0ODIvNDUyNDQwOTE2LTNlYThhMmVhLThjM2MtNGNmNS1iNzI4LTFjZGY5MjgxMDFiYy5qcGc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwNjA2JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDYwNlQxOTE2NTlaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1hYWU5ZjdkZWI2OTg3MGQ3ZDA1YWY3M2M0NGQxZTM2NGY3ZWYzNDdhMmQ3MDA0YmI4ZmI1MTAwMWQzM2Q5ZjIxJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.gCb0gfFzAoQ2r3PP932QrQqkEkITuoaZtzW44D_CnMI)](http://https://private-user-images.githubusercontent.com/147768482/452440916-3ea8a2ea-8c3c-4cf5-b728-1cdf928101bc.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDkyMzc3MTksIm5iZiI6MTc0OTIzNzQxOSwicGF0aCI6Ii8xNDc3Njg0ODIvNDUyNDQwOTE2LTNlYThhMmVhLThjM2MtNGNmNS1iNzI4LTFjZGY5MjgxMDFiYy5qcGc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwNjA2JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDYwNlQxOTE2NTlaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1hYWU5ZjdkZWI2OTg3MGQ3ZDA1YWY3M2M0NGQxZTM2NGY3ZWYzNDdhMmQ3MDA0YmI4ZmI1MTAwMWQzM2Q5ZjIxJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.gCb0gfFzAoQ2r3PP932QrQqkEkITuoaZtzW44D_CnMI)

[![chasis ](https://private-user-images.githubusercontent.com/147768482/452440924-43a830bd-0473-43b1-a4c9-bbeb139ec016.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDkyMzc3MTksIm5iZiI6MTc0OTIzNzQxOSwicGF0aCI6Ii8xNDc3Njg0ODIvNDUyNDQwOTI0LTQzYTgzMGJkLTA0NzMtNDNiMS1hNGM5LWJiZWIxMzllYzAxNi5qcGc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwNjA2JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDYwNlQxOTE2NTlaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1mM2NhOTJjMzNlZGQxNDQ5ZjY1MGFhNjA1OTYwYjRhYTI3MWU3YjhlZjEwYjZmYmU5NmEzZWU2ZWMzMjQwOWJiJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.m79xnFxID8P_114g3x65EMjXeFpj_StbIAWnFPVMs9c "chasis ")](http://https://private-user-images.githubusercontent.com/147768482/452440924-43a830bd-0473-43b1-a4c9-bbeb139ec016.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDkyMzc3MTksIm5iZiI6MTc0OTIzNzQxOSwicGF0aCI6Ii8xNDc3Njg0ODIvNDUyNDQwOTI0LTQzYTgzMGJkLTA0NzMtNDNiMS1hNGM5LWJiZWIxMzllYzAxNi5qcGc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwNjA2JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDYwNlQxOTE2NTlaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1mM2NhOTJjMzNlZGQxNDQ5ZjY1MGFhNjA1OTYwYjRhYTI3MWU3YjhlZjEwYjZmYmU5NmEzZWU2ZWMzMjQwOWJiJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.m79xnFxID8P_114g3x65EMjXeFpj_StbIAWnFPVMs9c "chasis ")

[![](https://private-user-images.githubusercontent.com/147768482/452440921-7f2d57ec-28e8-406a-b306-d1da54f44467.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDkyMzc3MTksIm5iZiI6MTc0OTIzNzQxOSwicGF0aCI6Ii8xNDc3Njg0ODIvNDUyNDQwOTIxLTdmMmQ1N2VjLTI4ZTgtNDA2YS1iMzA2LWQxZGE1NGY0NDQ2Ny5qcGc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwNjA2JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDYwNlQxOTE2NTlaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1hM2M0YTk4MGJjZmViNDZjZTU3NWU5NGQ2YjViNjQ0Y2ZjZDU5ODQ1NjcyYWIxNzc3YTE0ZDk1OGI4MDRjN2YyJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.WmrkOCiTafj0QyTmyxjL1cyLML15lcGE_XQuN2gwS4o)](http://https://private-user-images.githubusercontent.com/147768482/452440921-7f2d57ec-28e8-406a-b306-d1da54f44467.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDkyMzc3MTksIm5iZiI6MTc0OTIzNzQxOSwicGF0aCI6Ii8xNDc3Njg0ODIvNDUyNDQwOTIxLTdmMmQ1N2VjLTI4ZTgtNDA2YS1iMzA2LWQxZGE1NGY0NDQ2Ny5qcGc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwNjA2JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDYwNlQxOTE2NTlaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1hM2M0YTk4MGJjZmViNDZjZTU3NWU5NGQ2YjViNjQ0Y2ZjZDU5ODQ1NjcyYWIxNzc3YTE0ZDk1OGI4MDRjN2YyJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.WmrkOCiTafj0QyTmyxjL1cyLML15lcGE_XQuN2gwS4o)

## **Guia de armado**
En esta seccion se encontraran con un paso a paso de nuestro proceso  de armado, una guia sencilla y completa de nuestro proceso. Para empezar se adjunta un link del armado del chasis a disposición pública, el cual utilizamos como recurso para optimizar mejor el tiempo.


https://dukedoks.com/portfolio/guia-chasis-rc/

### **archivos de impresion de chasis fotos de la impresion**



## 🔧 Materiales y Componentes
Lista detallada de los componentes utilizados:
- **Chasis de referencias de modelado 3D**
- **Motor DC 9V kit ultimate 2.0**
- **Servo Motor Futaba S3003 08-sd-025**
- **Arduino Mega 2560**
- **Batería de litio 18650 (3 UND)**
- **Puente H L298N**
- **Sensor de ultrasonido de distancia Arduino HC-SR04 (3 UND)**
- **Controlador de velocidad PWM motores DC 4.5V-35V 5A 90W**
-**Sensor de color TCS3200**

**Servo motor Rev robotics REV-41-1097**

[![servomotor ](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRCsksBOFdDB5BY8tKZa6eUbbB8zCaAIml6zw&s "servomotor ")](http://https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRCsksBOFdDB5BY8tKZa6eUbbB8zCaAIml6zw&s "servomotor ")

Descripción: Servo estándar de 180° usado en robótica y modelismo, con engranajes de nylon 214.

Ventajas:

1. Precisión: Control angular exacto mediante señales PWM 14.

2. Costo bajo: Opción económica para proyectos básicos 10.

3. Compatibilidad: Funciona con Arduino (ejemplo: control de brazos robóticos) 10.

Desventajas:

 1. Torque limitado: 3.2 kg/cm a 4.8V (insuficiente para cargas pesadas) 2.

2. Fragilidad: Engranajes de nylon propensos a desgaste 14.

3. Voltaje crítico: Requiere regulación precisa (recomendado 6V con UBEC)

**Arduino Mega 2560**

![descarga](https://github.com/user-attachments/assets/63b1213b-3a6c-4e2e-802f-76436bbadba5)

El Arduino Mega 2560 es una placa de desarrollo basada en el microcontrolador ATmega2560, diseñada para proyectos que requieren más pines de E/S y memoria que modelos como el Arduino Uno. Es ampliamente utilizado en robótica, automatización y sistemas de control complejos.

Ventajas:

1. Múltiples I/O: 54 pines digitales y 16 analógicos .

2. Compatibilidad: Soporta librerías para sensores (TCS3200, HC-SR04).

3. Comunidad amplia: Documentación extensa y ejemplos de código.

Desventajas:

1. Consumo de energía: Alto vs. alternativas como ESP32.

2. Limitación de RAM: 8 KB insuficiente para procesamiento de imágenes complejas .

3. Velocidad: Procesador de 16 MHz (lento para tareas avanzadas)

**sensor der color TCS3200**

![sensor de color ](https://github.com/user-attachments/assets/ad0d0900-5da0-4351-b7b1-c4a1550e4126)

Ventajas:

1. Simpleza: Interfaz digital directa con microcontroladores 15.

2. Bajo costo: Ideal para proyectos educativos 11.

3. Configurable: Filtros RGB seleccionables por software 15.

Desventajas:

1. Sin filtro IR: Sensible a interferencias lumínicas 11.

2. Precisión limitada: Error del 0.2% a 50 kHz 15.

3. Calibración manual: Requiere ajuste de umbrales para colores similares

**Baterías De Litio 18650 3.7V a 7800mA**

[![](https://http2.mlstatic.com/D_NQ_NP_881915-MLV71037692218_082023-O.webp)](http://https://http2.mlstatic.com/D_NQ_NP_881915-MLV71037692218_082023-O.webp)

**Puente H L298N**

![Sin títulopuente h rojo](https://github.com/user-attachments/assets/c998e194-728f-4ca4-acd2-dbf268346189)

 **Sensor de ultrasonido de distancia Arduino HC-SR04**

![ultrasinico](https://github.com/user-attachments/assets/902c8c8b-0308-4dfd-9ffe-1c58e8a6bf10)
 
**Switches** 

[![suiche](https://sumador.com/cdn/shop/products/Suichetipobalancinde2pines2.jpg?v=1588622314 "suiche")](http://https://sumador.com/cdn/shop/products/Suichetipobalancinde2pines2.jpg?v=1588622314 "suiche")

**motor motor Makeblock 9VDC de 185 RPM**

![motor makeblock 9v](https://github.com/user-attachments/assets/8a9cdd8b-57d4-416b-b355-9b4c4810f2ba)

### **Descripcion**

El motor Makeblock 9VDC de 185 RPM es el motor más comúnmente utilizado en la plataforma Makeblock o proyectos de robotica en general. Está impulsado por corriente continua y es la opción ideal para que las cosas se muevan en todo tipo de proyectos.

### Ventajas:

1. Alto torque: Ideales para cargas medias gracias a su caja reductora (ejemplo: 185 RPM para modelos de 9V) 

2. Compatibilidad: Integrados con placas como MegaPi (basada en Arduino Mega 2560) 

3. Durabilidad: Piezas de aluminio anodizado en el kit Ultimate 2.0 9.

#### Desventajas:

1. Consumo energético: Requieren baterías de 9V (6xAA) o fuente externa 13.

2. Control complejo: Necesitan drivers como el L298N para PWM 9.

3. Ruido: Los engranajes pueden generar sonido en cargas altas 

## 🔨 Instalación y Montaje
Pasos de montaje mecánico y eléctrico de los compo
nentes:

Diagrama de conexiones del sistema eléctrico.

![WhatsApp Image 2025-06-11 at 10 56 48](https://github.com/user-attachments/assets/8278f2ae-6345-4587-8400-c9dcccde1bad)

Para el diagrama de coneccion que se uso cirkit desirgner para poder realiza una coneccion visual de donde van los pines y como va a ir cableado todo el sistema electrico y como se compone a la hora de armar 
**Partes mecánicas de conexión a las ruedas**


Bajo un concepto mecánico manejado con piñones que se conectan al motor y del motor al eje principal para tener así la transferencia de potencia directo a las ruedas, este es el montaje de la parte trasera de motor con el eje principal y el chasis.

[![motor ](https://dukedoks.com/wp-content/uploads/2024/05/Instrucciones_01_DKS-Basic_02-0-1536x864.jpg "motor ")](http://https://dukedoks.com/wp-content/uploads/2024/05/Instrucciones_01_DKS-Basic_02-0-1536x864.jpg "motor ")

[![](https://dukedoks.com/wp-content/uploads/2024/05/Instrucciones_01_DKS-Basic_02-1-1536x864.jpg)](http://https://dukedoks.com/wp-content/uploads/2024/05/Instrucciones_01_DKS-Basic_02-1-1536x864.jpg)

[![](https://dukedoks.com/wp-content/uploads/2024/05/Instrucciones_01_DKS-Basic_02-2-1536x864.jpg)](http://https://dukedoks.com/wp-content/uploads/2024/05/Instrucciones_01_DKS-Basic_02-2-1536x864.jpg)
 


**Dirección delantera**
En la parte delantera se utilizo un sistema sensillo con un servomotor conectado a una barra de dirección como puente a las ruedas.

[![](https://dukedoks.com/wp-content/uploads/2024/05/Instrucciones_01_DKS-Basic_04B-1-1536x864.jpg)](http://https://dukedoks.com/wp-content/uploads/2024/05/Instrucciones_01_DKS-Basic_04B-1-1536x864.jpg)

[![](https://dukedoks.com/wp-content/uploads/2024/05/Instrucciones_01_DKS-Basic_04B-2-1536x864.jpg)](http://https://dukedoks.com/wp-content/uploads/2024/05/Instrucciones_01_DKS-Basic_04B-2-1536x864.jpg)



5. Pruebas finales del funcionamiento del carrito RC
   
Codigo en Arduino IDE (codigo absuelto a cambios)

###Code Blocks (multi-language) & highlighting

####Inline code

#include <Servo.h>

#define SW_ARRANQUE 2
#define INH 4    
#define IN1 5     
#define IN2 6     
#define PIN_SERVO 8  
#define LED_ARRANQUE 12 
#define TRIG_FRONTAL 22 
#define ECHO_FRONTAL 23 
#define TRIG_DERECHO 24 
#define ECHO_DERECHO 25 
#define TRIG_IZQUIERDO 26 
#define ECHO_IZQUIERDO 27 

#define POS_CENTRO 71 // Ángulo para ruedas rectas
#define ANGULO_GIRO 25 // Ángulo de giro máximo (ajustable)

#define DISTANCIA_SEGURA 30  
#define DISTANCIA_PARED 15 

Servo miServo;


int velocidadMotor = 25;

bool detenerCompletamente = false;


float frontal;
float derecha;
float izquierda;



void setup() {


// ----- MOTOR ----- //
  pinMode(INH, OUTPUT);
  digitalWrite(INH, HIGH); 
  
  pinMode(IN1, OUTPUT);
  pinMode(IN2, OUTPUT);

  
  pinMode(TRIG_FRONTAL, OUTPUT);
  pinMode(ECHO_FRONTAL, INPUT);
  pinMode(TRIG_DERECHO, OUTPUT);
  pinMode(ECHO_DERECHO, INPUT);
  pinMode(TRIG_IZQUIERDO, OUTPUT);
  pinMode(ECHO_IZQUIERDO, INPUT);

  // ----- SWITCHES ----- //
  pinMode(SW_ARRANQUE, INPUT_PULLUP);

  pinMode(LED_ARRANQUE, OUTPUT);
  digitalWrite(LED_ARRANQUE, LOW);


  miServo.attach(PIN_SERVO);
  miServo.write(POS_CENTRO);
  delay(800);

  centrarRuedas();
  Serial.begin(9600);

  

}



void loop() {


    if (digitalRead(SW_ARRANQUE) == LOW && !detenerCompletamente) {
        digitalWrite(LED_ARRANQUE, HIGH);
        
        // Leer sensores primero
        frontal = leerUltrasonico(TRIG_FRONTAL, ECHO_FRONTAL);
        derecha = leerUltrasonico(TRIG_DERECHO, ECHO_DERECHO);
        izquierda = leerUltrasonico(TRIG_IZQUIERDO, ECHO_IZQUIERDO);

        Serial.print("Frontal: "); Serial.print(frontal);
        Serial.print(" Derecha: "); Serial.print(derecha);
        Serial.print(" Izquierda: "); Serial.println(izquierda);

        // Tomar decisiones basadas en lecturas
        if (frontal < DISTANCIA_SEGURA) {
            evitarObstaculo(derecha, izquierda);
        } 
        else if (derecha < DISTANCIA_PARED) {
            ajustarIzquierda(); 
        } 
        else if (izquierda < DISTANCIA_PARED) {
            ajustarDerecha();
        } 
        else {
            moverAdelante();
            centrarRuedas();
        }
    }
    else {
        digitalWrite(LED_ARRANQUE, LOW);
        detenerMotor();
    }
    delay(250);
}

void evitarObstaculo(float distDerecha, float distIzquierda) {
    detenerMotor();
    delay(250);
    
     if (distDerecha > distIzquierda) {
        girarDerecha();
    } else {
        girarIzquierda();
    }
    
    unsigned long tiempoInicio = millis();
    while (millis() - tiempoInicio < 1000) {
        ejecutarComportamientoNormal();
        delay(250);
        }
}
     
          
     
void ajustarDerecha() {
    miServo.write(POS_CENTRO - ANGULO_GIRO/2); 
    moverAdelante();
}

void ajustarIzquierda() {
    miServo.write(POS_CENTRO + ANGULO_GIRO/2); 
    moverAdelante();
}

float leerUltrasonico(uint8_t trigPin, uint8_t echoPin) {
    digitalWrite(trigPin, LOW);
    delayMicroseconds(100);
    digitalWrite(trigPin, HIGH);
    delayMicroseconds(50);
    digitalWrite(trigPin, LOW);
    return pulseIn(echoPin, HIGH) * 0.034 / 2;
}


void centrarRuedas() {
    miServo.write(POS_CENTRO);
    delay(120); 
}

void girarDerecha() {
    miServo.write(POS_CENTRO + ANGULO_GIRO); 
    delay(80);
}

void girarIzquierda() {
    miServo.write(POS_CENTRO - ANGULO_GIRO);
    delay(80);
}
void detenerMotor() {
    digitalWrite(IN1, LOW);
    digitalWrite(IN2, LOW);
}

void moverAdelante() {
    digitalWrite(IN1, HIGH);
    digitalWrite(IN2, LOW);
    if(frontal > 0) {
        int velocidadAjustada = map(constrain((int)frontal, 3, 10), 3, 5, 7, 10);
        analogWrite(IN1, velocidadAjustada);
    } else {
        analogWrite(IN1, velocidadMotor);
    }
}

void ejecutarComportamientoNormal() {
    frontal = leerUltrasonico(TRIG_FRONTAL, ECHO_FRONTAL);
    derecha = leerUltrasonico(TRIG_DERECHO, ECHO_DERECHO);
    izquierda = leerUltrasonico(TRIG_IZQUIERDO, ECHO_IZQUIERDO);
    
    if (frontal < DISTANCIA_SEGURA) {
        evitarObstaculo(derecha, izquierda);
    }   
    else if (derecha < DISTANCIA_PARED) {
        ajustarIzquierda(); 
    } 
    else if (izquierda < DISTANCIA_PARED) {
        ajustarDerecha();
    } 
    else {
        moverAdelante();
        centrarRuedas();
    }
}


###End
